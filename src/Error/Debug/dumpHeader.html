<style type="text/css">
.cake-dbg {
  font-family: monospace;
  background: var(--color-bg);
  padding: 5px;

  /*
  Colours based on solarized scheme
  https://ethanschoonover.com/solarized/
  */
  --color-bg: #fdf6e3;
  --color-grey: #586e75;
  --color-dark-grey: #073642;
  --color-cyan: #2aa198;
  --color-blue: #268bd2;
  --color-green: #859900;
  --color-orange: #cb4b16;
  --color-yellow: #b58900;
  --color-violet: #6c71c4;
  --color-red: #dc322f;

  --indent: 20px;
}
.cake-dbg-object {
  display: inline;
}
/*
Array item container and each items are blocks so
nesting works.
*/
.cake-dbg-object-props,
.cake-dbg-array-items {
  display: block;
}
/** Collapser state **/
.cake-dbg-array-items.cake-dbg-hidden,
.cake-dbg-object-props.cake-dbg-hidden {
  display: none;
}
.cake-dbg-collapse-open:before,
.cake-dbg-collapse-close:before {
  content: "\25b8";
  display: inline-block;
  width: 12px;
  height: 12px;
  font-size: 12px;
  line-height: 12px;
  background: hsla(0, 0%, 50%, 0.2);
  padding: 4px 2px 4px 6px;
  border-radius: 3px;
  color: var(--color-blue);
}
.cake-dbg-collapse-open:before {
  content: "\25be";
}

.cake-dbg-prop,
.cake-dbg-array-item {
  display: block;
  padding-left: var(--indent);
}

/* Textual elements */
.cake-dbg-class {
  color: var(--color-cyan);
}
.cake-dbg-property {
  color: var(--color-dark-grey);
}
.cake-dbg-visibility {
  color: var(--color-violet);
}
.cake-dbg-punct {
  color: var(--color-grey);
}
.cake-dbg-string {
  color: var(--color-green);
}
.cake-dbg-number {
  font-weight: bold;
  color: var(--color-blue);
}
.cake-dbg-const {
  color: var(--color-yellow);
  font-weight: bold;
}
.cake-dbg-ref {
  color: var(--color-red);
}
.cake-dbg-special {
  color: var(--color-red);
  font-style: italic;
}
</style>
<script type="text/javascript">
(function (win, doc) {

function initialize() {
  createCollapsibles(doc.querySelectorAll('.cake-dbg-array-items'));
  createCollapsibles(doc.querySelectorAll('.cake-dbg-object-props'));
}

function createCollapsibles(nodes) {
  nodes.forEach(function (node) {
    // Hide the childnode container
    node.classList.add('cake-dbg-hidden');

    var collapser = doc.createElement('a');
    collapser.classList.add('cake-dbg-collapse-close');
    collapser.setAttribute('href', '#')
    collapser.setAttribute('title', 'Toggle items');

    // Add open/close behavior
    collapser.addEventListener('click', function (event) {
      event.preventDefault();
      event.stopPropagation();
      node.classList.toggle('cake-dbg-hidden');
      collapser.classList.toggle('cake-dbg-collapse-close');
      collapser.classList.toggle('cake-dbg-collapse-open');
    });

    node.parentNode.insertBefore(collapser, node);
  });
}

doc.addEventListener('DOMContentLoaded', initialize);
}(window, document))
</script>
